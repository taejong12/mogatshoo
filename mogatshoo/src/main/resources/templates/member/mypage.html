<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{fragments/layout}">
<head th:with="layoutTitle='내 정보'">
    <link rel="stylesheet" th:href="@{/css/member/mypage.css}">
</head>
<body>
<div layout:fragment="content" class="pixel-bg">
    <div class="explorer-container">
        <!-- 왼쪽 트리 패널 -->
        <div class="tree-panel">
            <div class="tree-header">All Folders</div>
            <div class="tree-content">
                <div class="tree-item selected">회원정보</div>
            </div>
        </div>
        
        <!-- 오른쪽 내용 패널 -->
        <div class="content-panel">
            <div class="content-header">Contents of 'Member Information'</div>
            <div class="content-area">
				<div class="panalContent">
                <!-- 회원정보 아이콘들 -->
                <div class="icon-grid">
                    <div class="info-icon">
                        <div class="info-icon-image">👤</div>
                        <div class="info-icon-label">아이디</div>
                        <div class="info-icon-value" th:text="${member.memberNickName}">아이디</div>
                    </div>
                    
                    <div class="info-icon">
                        <div class="info-icon-image">📝</div>
                        <div class="info-icon-label">이름</div>
                        <div class="info-icon-value" th:text="${member.memberName}">이름</div>
                    </div>
                    
                    <div class="info-icon">
                        <div class="info-icon-image">⚧️</div>
                        <div class="info-icon-label">성별</div>
                        <div class="info-icon-value" th:text="${member.memberGender}">성별</div>
                    </div>
                    
                    <div class="info-icon">
                        <div class="info-icon-image">📮</div>
                        <div class="info-icon-label">우편번호</div>
                        <div class="info-icon-value" th:text="${member.memberZipcode}">우편번호</div>
                    </div>
                    
                    <div class="info-icon">
                        <div class="info-icon-image">🏠</div>
                        <div class="info-icon-label">기본주소</div>
                        <div class="info-icon-value" th:text="${member.memberAddress1}">기본주소</div>
                    </div>
                    
                    <div class="info-icon">
                        <div class="info-icon-image">🏘️</div>
                        <div class="info-icon-label">상세주소</div>
                        <div class="info-icon-value" th:text="${member.memberAddress2}">상세주소</div>
                    </div>
                    
                    <div class="info-icon">
                        <div class="info-icon-image">📞</div>
                        <div class="info-icon-label">전화번호</div>
                        <div class="info-icon-value" th:text="${member.memberTel}">전화번호</div>
                    </div>
                    
                    <div class="info-icon">
                        <div class="info-icon-image">🎂</div>
                        <div class="info-icon-label">생년월일</div>
                        <div class="info-icon-value" th:text="${member.memberBirth}">생년월일</div>
                    </div>
                    
                    <div class="info-icon">
                        <div class="info-icon-image">📧</div>
                        <div class="info-icon-label">이메일</div>
                        <div class="info-icon-value" th:text="${member.memberEmail}">이메일</div>
                    </div>
                    
                    <div class="info-icon">
                        <div class="info-icon-image">📅</div>
                        <div class="info-icon-label">가입일</div>
                        <div class="info-icon-value" th:text="${member.memberCreate}">가입일</div>
                    </div>
                </div>
                
                <!-- 탈모분석 결과 -->
                <div class="analysis-result">
                    <img th:src="@{${picture.firebaseStorageUrl}}" class="analysis-image" alt="탈모분석 이미지">
                    <div class="analysis-text">
                        <div id="hairMsg">분석 결과를 불러오는 중...</div>
                    </div>
                </div>
                
                <!-- 버튼 영역 -->
                <div class="button-area">
                    <a class="win95-button" th:href="@{/member/update(memberId=${member.memberId})}">수정</a>
                    <form id="deleteForm" action="/member/delete" method="post">
                        <input type="hidden" name="memberId" th:value="${member.memberId}">
                        <button type="button" class="win95-button win95-button-delete"
                                th:onclick="'if(confirm(\'정말 탈퇴하시겠습니까? 이 작업은 되돌릴 수 없습니다.\')) document.getElementById(\'deleteForm\').submit();'">
                            탈퇴
                        </button>
                    </form>
                </div>
				</div>
            </div>
        </div>
    </div>
    
    <script type="text/javascript">
        let hairStage = "[[${stage.hairStage}]]".trim();
    </script>
    <script th:src="@{/js/member/mypage/hairMypage.js}"></script>
</div>
</body>
</html>